// ==UserScript==
// @name         夏季生物
// @author       JustAnotherID
// @version      1.2.1
// @description  使用 .夏季生物 帮助 查看帮助，为群里增加夏季生物活动吧！\n1.1.0 - 增加蚊香和蟑螂屋，新增成就，并允许配置活动间隔时间\n1.2.0 - 增加电蚊拍
// @timestamp    2024-06-01 11:45:14
// @license      MIT
// @homepageURL  https://github.com/JustAnotherID/just-another-seal-mod-repo/tree/master/js/summer-creature
// @updateUrl    https://mirror.ghproxy.com/https://raw.githubusercontent.com/JustAnotherID/just-another-seal-mod-repo/master/js/summer-creature/dist/%E5%A4%8F%E5%AD%A3%E7%94%9F%E7%89%A9.js
// @updateUrl    https://raw.githubusercontent.com/JustAnotherID/just-another-seal-mod-repo/master/js/summer-creature/dist/%E5%A4%8F%E5%AD%A3%E7%94%9F%E7%89%A9.js
// ==/UserScript==

(()=>{var no=Object.create;var Ue=Object.defineProperty,io=Object.defineProperties,fo=Object.getOwnPropertyDescriptor,uo=Object.getOwnPropertyDescriptors,lo=Object.getOwnPropertyNames,xt=Object.getOwnPropertySymbols,mo=Object.getPrototypeOf,yt=Object.prototype.hasOwnProperty,po=Object.prototype.propertyIsEnumerable;var gt=(e,t,r)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,te=(e,t)=>{for(var r in t||(t={}))yt.call(t,r)&&gt(e,r,t[r]);if(xt)for(var r of xt(t))po.call(t,r)&&gt(e,r,t[r]);return e},re=(e,t)=>io(e,uo(t));var Fe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var co=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of lo(t))!yt.call(e,a)&&a!==r&&Ue(e,a,{get:()=>t[a],enumerable:!(o=fo(t,a))||o.enumerable});return e};var Be=(e,t,r)=>(r=e!=null?no(mo(e)):{},co(t||!e||!e.__esModule?Ue(r,"default",{value:e,enumerable:!0}):r,e));var it=Fe((st,nt)=>{(function(e,t){typeof st=="object"&&typeof nt!="undefined"?nt.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self).dayjs=t()})(st,function(){"use strict";var e=1e3,t=6e4,r=36e5,o="millisecond",a="second",s="minute",n="hour",i="day",u="week",p="month",d="quarter",y="year",b="date",T="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,P=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(h){var m=["th","st","nd","rd"],f=h%100;return"["+h+(m[(f-20)%10]||m[f]||m[0])+"]"}},O=function(h,m,f){var c=String(h);return!c||c.length>=m?h:""+Array(m+1-c.length).join(f)+h},G={s:O,z:function(h){var m=-h.utcOffset(),f=Math.abs(m),c=Math.floor(f/60),l=f%60;return(m<=0?"+":"-")+O(c,2,"0")+":"+O(l,2,"0")},m:function h(m,f){if(m.date()<f.date())return-h(f,m);var c=12*(f.year()-m.year())+(f.month()-m.month()),l=m.clone().add(c,p),x=f-l<0,g=m.clone().add(c+(x?-1:1),p);return+(-(c+(f-l)/(x?l-g:g-l))||0)},a:function(h){return h<0?Math.ceil(h)||0:Math.floor(h)},p:function(h){return{M:p,y,w:u,d:i,D:b,h:n,m:s,s:a,ms:o,Q:d}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(h){return h===void 0}},$="en",q={};q[$]=j;var ae="$isDayjsObject",Z=function(h){return h instanceof Ie||!(!h||!h[ae])},ve=function h(m,f,c){var l;if(!m)return $;if(typeof m=="string"){var x=m.toLowerCase();q[x]&&(l=x),f&&(q[x]=f,l=x);var g=m.split("-");if(!l&&g.length>1)return h(g[0])}else{var _=m.name;q[_]=m,l=_}return!c&&l&&($=l),l||!c&&$},S=function(h,m){if(Z(h))return h.clone();var f=typeof m=="object"?m:{};return f.date=h,f.args=arguments,new Ie(f)},I=G;I.l=ve,I.i=Z,I.w=function(h,m){return S(h,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var Ie=function(){function h(f){this.$L=ve(f.locale,null,!0),this.parse(f),this.$x=this.$x||f.x||{},this[ae]=!0}var m=h.prototype;return m.parse=function(f){this.$d=function(c){var l=c.date,x=c.utc;if(l===null)return new Date(NaN);if(I.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var g=l.match(v);if(g){var _=g[2]-1||0,C=(g[7]||"0").substring(0,3);return x?new Date(Date.UTC(g[1],_,g[3]||1,g[4]||0,g[5]||0,g[6]||0,C)):new Date(g[1],_,g[3]||1,g[4]||0,g[5]||0,g[6]||0,C)}}return new Date(l)}(f),this.init()},m.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},m.$utils=function(){return I},m.isValid=function(){return this.$d.toString()!==T},m.isSame=function(f,c){var l=S(f);return this.startOf(c)<=l&&l<=this.endOf(c)},m.isAfter=function(f,c){return S(f)<this.startOf(c)},m.isBefore=function(f,c){return this.endOf(c)<S(f)},m.$g=function(f,c,l){return I.u(f)?this[c]:this.set(l,f)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(f,c){var l=this,x=!!I.u(c)||c,g=I.p(f),_=function(ee,R){var W=I.w(l.$u?Date.UTC(l.$y,R,ee):new Date(l.$y,R,ee),l);return x?W:W.endOf(i)},C=function(ee,R){return I.w(l.toDate()[ee].apply(l.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(R)),l)},M=this.$W,w=this.$M,D=this.$D,se="set"+(this.$u?"UTC":"");switch(g){case y:return x?_(1,0):_(31,11);case p:return x?_(1,w):_(0,w+1);case u:var Q=this.$locale().weekStart||0,de=(M<Q?M+7:M)-Q;return _(x?D-de:D+(6-de),w);case i:case b:return C(se+"Hours",0);case n:return C(se+"Minutes",1);case s:return C(se+"Seconds",2);case a:return C(se+"Milliseconds",3);default:return this.clone()}},m.endOf=function(f){return this.startOf(f,!1)},m.$set=function(f,c){var l,x=I.p(f),g="set"+(this.$u?"UTC":""),_=(l={},l[i]=g+"Date",l[b]=g+"Date",l[p]=g+"Month",l[y]=g+"FullYear",l[n]=g+"Hours",l[s]=g+"Minutes",l[a]=g+"Seconds",l[o]=g+"Milliseconds",l)[x],C=x===i?this.$D+(c-this.$W):c;if(x===p||x===y){var M=this.clone().set(b,1);M.$d[_](C),M.init(),this.$d=M.set(b,Math.min(this.$D,M.daysInMonth())).$d}else _&&this.$d[_](C);return this.init(),this},m.set=function(f,c){return this.clone().$set(f,c)},m.get=function(f){return this[I.p(f)]()},m.add=function(f,c){var l,x=this;f=Number(f);var g=I.p(c),_=function(w){var D=S(x);return I.w(D.date(D.date()+Math.round(w*f)),x)};if(g===p)return this.set(p,this.$M+f);if(g===y)return this.set(y,this.$y+f);if(g===i)return _(1);if(g===u)return _(7);var C=(l={},l[s]=t,l[n]=r,l[a]=e,l)[g]||1,M=this.$d.getTime()+f*C;return I.w(M,this)},m.subtract=function(f,c){return this.add(-1*f,c)},m.format=function(f){var c=this,l=this.$locale();if(!this.isValid())return l.invalidDate||T;var x=f||"YYYY-MM-DDTHH:mm:ssZ",g=I.z(this),_=this.$H,C=this.$m,M=this.$M,w=l.weekdays,D=l.months,se=l.meridiem,Q=function(R,W,he,_e){return R&&(R[W]||R(c,x))||he[W].slice(0,_e)},de=function(R){return I.s(_%12||12,R,"0")},ee=se||function(R,W,he){var _e=R<12?"AM":"PM";return he?_e.toLowerCase():_e};return x.replace(P,function(R,W){return W||function(he){switch(he){case"YY":return String(c.$y).slice(-2);case"YYYY":return I.s(c.$y,4,"0");case"M":return M+1;case"MM":return I.s(M+1,2,"0");case"MMM":return Q(l.monthsShort,M,D,3);case"MMMM":return Q(D,M);case"D":return c.$D;case"DD":return I.s(c.$D,2,"0");case"d":return String(c.$W);case"dd":return Q(l.weekdaysMin,c.$W,w,2);case"ddd":return Q(l.weekdaysShort,c.$W,w,3);case"dddd":return w[c.$W];case"H":return String(_);case"HH":return I.s(_,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return ee(_,C,!0);case"A":return ee(_,C,!1);case"m":return String(C);case"mm":return I.s(C,2,"0");case"s":return String(c.$s);case"ss":return I.s(c.$s,2,"0");case"SSS":return I.s(c.$ms,3,"0");case"Z":return g}return null}(R)||g.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(f,c,l){var x,g=this,_=I.p(c),C=S(f),M=(C.utcOffset()-this.utcOffset())*t,w=this-C,D=function(){return I.m(g,C)};switch(_){case y:x=D()/12;break;case p:x=D();break;case d:x=D()/3;break;case u:x=(w-M)/6048e5;break;case i:x=(w-M)/864e5;break;case n:x=w/r;break;case s:x=w/t;break;case a:x=w/e;break;default:x=w}return l?x:I.a(x)},m.daysInMonth=function(){return this.endOf(p).$D},m.$locale=function(){return q[this.$L]},m.locale=function(f,c){if(!f)return this.$L;var l=this.clone(),x=ve(f,c,!0);return x&&(l.$L=x),l},m.clone=function(){return I.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},h}(),ht=Ie.prototype;return S.prototype=ht,[["$ms",o],["$s",a],["$m",s],["$H",n],["$W",i],["$M",p],["$y",y],["$D",b]].forEach(function(h){ht[h[1]]=function(m){return this.$g(m,h[0],h[1])}}),S.extend=function(h,m){return h.$i||(h(m,Ie,S),h.$i=!0),S},S.locale=ve,S.isDayjs=Z,S.unix=function(h){return S(1e3*h)},S.en=q[$],S.Ls=q,S.p={},S})});var Vr=Fe((ft,ut)=>{(function(e,t){typeof ft=="object"&&typeof ut!="undefined"?ut.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self).dayjs_plugin_relativeTime=t()})(ft,function(){"use strict";return function(e,t,r){e=e||{};var o=t.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(i,u,p,d){return o.fromToBase(i,u,p,d)}r.en.relativeTime=a,o.fromToBase=function(i,u,p,d,y){for(var b,T,v,P=p.$locale().relativeTime||a,j=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],O=j.length,G=0;G<O;G+=1){var $=j[G];$.d&&(b=d?r(i).diff(p,$.d,!0):p.diff(i,$.d,!0));var q=(e.rounding||Math.round)(Math.abs(b));if(v=b>0,q<=$.r||!$.r){q<=1&&G>0&&($=j[G-1]);var ae=P[$.l];y&&(q=y(""+q)),T=typeof ae=="string"?ae.replace("%d",q):ae(q,u,$.l,v);break}}if(u)return T;var Z=v?P.future:P.past;return typeof Z=="function"?Z(T):Z.replace("%s",T)},o.to=function(i,u){return s(i,u,this,!0)},o.from=function(i,u){return s(i,u,this)};var n=function(i){return i.$u?r.utc():r()};o.toNow=function(i){return this.to(n(this),i)},o.fromNow=function(i){return this.from(n(this),i)}}})});var Jr=Fe((lt,mt)=>{(function(e,t){typeof lt=="object"&&typeof mt!="undefined"?mt.exports=t(it()):typeof define=="function"&&define.amd?define(["dayjs"],t):(e=typeof globalThis!="undefined"?globalThis:e||self).dayjs_locale_zh_cn=t(e.dayjs)})(lt,function(e){"use strict";function t(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var r=t(e),o={name:"zh-cn",weekdays:"\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D".split("_"),weekdaysShort:"\u5468\u65E5_\u5468\u4E00_\u5468\u4E8C_\u5468\u4E09_\u5468\u56DB_\u5468\u4E94_\u5468\u516D".split("_"),weekdaysMin:"\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_"),months:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(a,s){return s==="W"?a+"\u5468":a+"\u65E5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524D",s:"\u51E0\u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},meridiem:function(a,s){var n=100*a+s;return n<600?"\u51CC\u6668":n<900?"\u65E9\u4E0A":n<1100?"\u4E0A\u5348":n<1300?"\u4E2D\u5348":n<1800?"\u4E0B\u5348":"\u665A\u4E0A"}};return r.default.locale(o,null,!0),o})});var ho=typeof global=="object"&&global&&global.Object===Object&&global,ke=ho;var xo=typeof self=="object"&&self&&self.Object===Object&&self,go=ke||xo||Function("return this")(),E=go;var yo=E.Symbol,L=yo;var bt=Object.prototype,bo=bt.hasOwnProperty,vo=bt.toString,xe=L?L.toStringTag:void 0;function Io(e){var t=bo.call(e,xe),r=e[xe];try{e[xe]=void 0;var o=!0}catch(s){}var a=vo.call(e);return o&&(t?e[xe]=r:delete e[xe]),a}var vt=Io;var _o=Object.prototype,ko=_o.toString;function To(e){return ko.call(e)}var It=To;var Co="[object Null]",So="[object Undefined]",_t=L?L.toStringTag:void 0;function Mo(e){return e==null?e===void 0?So:Co:_t&&_t in Object(e)?vt(e):It(e)}var z=Mo;function $o(e){return e!=null&&typeof e=="object"}var V=$o;var wo="[object Symbol]";function Oo(e){return typeof e=="symbol"||V(e)&&z(e)==wo}var Te=Oo;function Ao(e,t){for(var r=-1,o=e==null?0:e.length,a=Array(o);++r<o;)a[r]=t(e[r],r,e);return a}var Ce=Ao;var qo=Array.isArray,ne=qo;var Ro=1/0,kt=L?L.prototype:void 0,Tt=kt?kt.toString:void 0;function Ct(e){if(typeof e=="string")return e;if(ne(e))return Ce(e,Ct)+"";if(Te(e))return Tt?Tt.call(e):"";var t=e+"";return t=="0"&&1/e==-Ro?"-0":t}var St=Ct;var jo=/\s/;function Do(e){for(var t=e.length;t--&&jo.test(e.charAt(t)););return t}var Mt=Do;var Eo=/^\s+/;function Ko(e){return e&&e.slice(0,Mt(e)+1).replace(Eo,"")}var $t=Ko;function No(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var U=No;var wt=NaN,Ho=/^[-+]0x[0-9a-f]+$/i,Po=/^0b[01]+$/i,Go=/^0o[0-7]+$/i,Yo=parseInt;function Lo(e){if(typeof e=="number")return e;if(Te(e))return wt;if(U(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=U(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$t(e);var r=Po.test(e);return r||Go.test(e)?Yo(e.slice(2),r?2:8):Ho.test(e)?wt:+e}var Se=Lo;var Ot=1/0,Uo=17976931348623157e292;function Fo(e){if(!e)return e===0?e:0;if(e=Se(e),e===Ot||e===-Ot){var t=e<0?-1:1;return t*Uo}return e===e?e:0}var ge=Fo;function Bo(e){var t=ge(e),r=t%1;return t===t?r?t-r:t:0}var Me=Bo;function Wo(e){return e}var At=Wo;var zo="[object AsyncFunction]",Vo="[object Function]",Jo="[object GeneratorFunction]",Xo="[object Proxy]";function Zo(e){if(!U(e))return!1;var t=z(e);return t==Vo||t==Jo||t==zo||t==Xo}var $e=Zo;var Qo=E["__core-js_shared__"],we=Qo;var qt=function(){var e=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ea(e){return!!qt&&qt in e}var Rt=ea;var ta=Function.prototype,ra=ta.toString;function oa(e){if(e!=null){try{return ra.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var jt=oa;var aa=/[\\^$.*+?()[\]{}|]/g,sa=/^\[object .+?Constructor\]$/,na=Function.prototype,ia=Object.prototype,fa=na.toString,ua=ia.hasOwnProperty,la=RegExp("^"+fa.call(ua).replace(aa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ma(e){if(!U(e)||Rt(e))return!1;var t=$e(e)?la:sa;return t.test(jt(e))}var Dt=ma;function pa(e,t){return e==null?void 0:e[t]}var Et=pa;function ca(e,t){var r=Et(e,t);return Dt(r)?r:void 0}var ie=ca;function da(){}var Kt=da;function ha(e,t,r,o){for(var a=e.length,s=r+(o?1:-1);o?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var Nt=ha;function xa(e){return e!==e}var Ht=xa;function ga(e,t,r){for(var o=r-1,a=e.length;++o<a;)if(e[o]===t)return o;return-1}var Pt=ga;function ya(e,t,r){return t===t?Pt(e,t,r):Nt(e,Ht,r)}var Gt=ya;function ba(e,t){var r=e==null?0:e.length;return!!r&&Gt(e,t,0)>-1}var Yt=ba;var va=9007199254740991,Ia=/^(?:0|[1-9]\d*)$/;function _a(e,t){var r=typeof e;return t=t==null?va:t,!!t&&(r=="number"||r!="symbol"&&Ia.test(e))&&e>-1&&e%1==0&&e<t}var Oe=_a;function ka(e,t){return e===t||e!==e&&t!==t}var Ae=ka;var Ta=9007199254740991;function Ca(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ta}var qe=Ca;function Sa(e){return e!=null&&qe(e.length)&&!$e(e)}var Re=Sa;function Ma(e,t,r){if(!U(r))return!1;var o=typeof t;return(o=="number"?Re(r)&&Oe(t,r.length):o=="string"&&t in r)?Ae(r[t],e):!1}var Lt=Ma;var $a=Object.prototype;function wa(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||$a;return e===r}var Ut=wa;function Oa(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var je=Oa;var Aa="[object Arguments]";function qa(e){return V(e)&&z(e)==Aa}var We=qa;var Ft=Object.prototype,Ra=Ft.hasOwnProperty,ja=Ft.propertyIsEnumerable,Da=We(function(){return arguments}())?We:function(e){return V(e)&&Ra.call(e,"callee")&&!ja.call(e,"callee")},Bt=Da;function Ea(){return!1}var Wt=Ea;var Jt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zt=Jt&&typeof module=="object"&&module&&!module.nodeType&&module,Ka=zt&&zt.exports===Jt,Vt=Ka?E.Buffer:void 0,Na=Vt?Vt.isBuffer:void 0,Ha=Na||Wt,Xt=Ha;var Pa="[object Arguments]",Ga="[object Array]",Ya="[object Boolean]",La="[object Date]",Ua="[object Error]",Fa="[object Function]",Ba="[object Map]",Wa="[object Number]",za="[object Object]",Va="[object RegExp]",Ja="[object Set]",Xa="[object String]",Za="[object WeakMap]",Qa="[object ArrayBuffer]",es="[object DataView]",ts="[object Float32Array]",rs="[object Float64Array]",os="[object Int8Array]",as="[object Int16Array]",ss="[object Int32Array]",ns="[object Uint8Array]",is="[object Uint8ClampedArray]",fs="[object Uint16Array]",us="[object Uint32Array]",k={};k[ts]=k[rs]=k[os]=k[as]=k[ss]=k[ns]=k[is]=k[fs]=k[us]=!0;k[Pa]=k[Ga]=k[Qa]=k[Ya]=k[es]=k[La]=k[Ua]=k[Fa]=k[Ba]=k[Wa]=k[za]=k[Va]=k[Ja]=k[Xa]=k[Za]=!1;function ls(e){return V(e)&&qe(e.length)&&!!k[z(e)]}var Zt=ls;function ms(e){return function(t){return e(t)}}var Qt=ms;var er=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ye=er&&typeof module=="object"&&module&&!module.nodeType&&module,ps=ye&&ye.exports===er,ze=ps&&ke.process,cs=function(){try{var e=ye&&ye.require&&ye.require("util").types;return e||ze&&ze.binding&&ze.binding("util")}catch(t){}}(),Ve=cs;var tr=Ve&&Ve.isTypedArray,ds=tr?Qt(tr):Zt,rr=ds;var hs=Object.prototype,xs=hs.hasOwnProperty;function gs(e,t){var r=ne(e),o=!r&&Bt(e),a=!r&&!o&&Xt(e),s=!r&&!o&&!a&&rr(e),n=r||o||a||s,i=n?je(e.length,String):[],u=i.length;for(var p in e)(t||xs.call(e,p))&&!(n&&(p=="length"||a&&(p=="offset"||p=="parent")||s&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||Oe(p,u)))&&i.push(p);return i}var or=gs;function ys(e,t){return function(r){return e(t(r))}}var ar=ys;var bs=ar(Object.keys,Object),sr=bs;var vs=Object.prototype,Is=vs.hasOwnProperty;function _s(e){if(!Ut(e))return sr(e);var t=[];for(var r in Object(e))Is.call(e,r)&&r!="constructor"&&t.push(r);return t}var nr=_s;function ks(e){return Re(e)?or(e):nr(e)}var ir=ks;var Ts=ie(Object,"create"),F=Ts;function Cs(){this.__data__=F?F(null):{},this.size=0}var fr=Cs;function Ss(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ur=Ss;var Ms="__lodash_hash_undefined__",$s=Object.prototype,ws=$s.hasOwnProperty;function Os(e){var t=this.__data__;if(F){var r=t[e];return r===Ms?void 0:r}return ws.call(t,e)?t[e]:void 0}var lr=Os;var As=Object.prototype,qs=As.hasOwnProperty;function Rs(e){var t=this.__data__;return F?t[e]!==void 0:qs.call(t,e)}var mr=Rs;var js="__lodash_hash_undefined__";function Ds(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=F&&t===void 0?js:t,this}var pr=Ds;function fe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}fe.prototype.clear=fr;fe.prototype.delete=ur;fe.prototype.get=lr;fe.prototype.has=mr;fe.prototype.set=pr;var Je=fe;function Es(){this.__data__=[],this.size=0}var cr=Es;function Ks(e,t){for(var r=e.length;r--;)if(Ae(e[r][0],t))return r;return-1}var J=Ks;var Ns=Array.prototype,Hs=Ns.splice;function Ps(e){var t=this.__data__,r=J(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():Hs.call(t,r,1),--this.size,!0}var dr=Ps;function Gs(e){var t=this.__data__,r=J(t,e);return r<0?void 0:t[r][1]}var hr=Gs;function Ys(e){return J(this.__data__,e)>-1}var xr=Ys;function Ls(e,t){var r=this.__data__,o=J(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}var gr=Ls;function ue(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ue.prototype.clear=cr;ue.prototype.delete=dr;ue.prototype.get=hr;ue.prototype.has=xr;ue.prototype.set=gr;var yr=ue;var Us=ie(E,"Map"),br=Us;function Fs(){this.size=0,this.__data__={hash:new Je,map:new(br||yr),string:new Je}}var vr=Fs;function Bs(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ir=Bs;function Ws(e,t){var r=e.__data__;return Ir(t)?r[typeof t=="string"?"string":"hash"]:r.map}var X=Ws;function zs(e){var t=X(this,e).delete(e);return this.size-=t?1:0,t}var _r=zs;function Vs(e){return X(this,e).get(e)}var kr=Vs;function Js(e){return X(this,e).has(e)}var Tr=Js;function Xs(e,t){var r=X(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}var Cr=Xs;function le(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}le.prototype.clear=vr;le.prototype.delete=_r;le.prototype.get=kr;le.prototype.has=Tr;le.prototype.set=Cr;var Sr=le;function Zs(e){return e==null?"":St(e)}var Xe=Zs;var Qs=E.isFinite,en=Math.min;function tn(e){var t=Math[e];return function(r,o){if(r=Se(r),o=o==null?0:en(Me(o),292),o&&Qs(r)){var a=(Xe(r)+"e").split("e"),s=t(a[0]+"e"+(+a[1]+o));return a=(Xe(s)+"e").split("e"),+(a[0]+"e"+(+a[1]-o))}return t(r)}}var Mr=tn;var rn=ie(E,"Set"),De=rn;var on="__lodash_hash_undefined__";function an(e){return this.__data__.set(e,on),this}var $r=an;function sn(e){return this.__data__.has(e)}var wr=sn;function Ee(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Sr;++t<r;)this.add(e[t])}Ee.prototype.add=Ee.prototype.push=$r;Ee.prototype.has=wr;var Or=Ee;function nn(e,t){return e.has(t)}var Ar=nn;function fn(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var Ke=fn;function un(e,t,r){for(var o=-1,a=e==null?0:e.length;++o<a;)if(r(t,e[o]))return!0;return!1}var qr=un;function ln(e){return typeof e=="function"?e:At}var Rr=ln;function mn(e,t){return Ce(t,function(r){return e[r]})}var jr=mn;function pn(e){return e==null?[]:jr(e,ir(e))}var Dr=pn;var cn=Math.floor,dn=Math.random;function hn(e,t){return e+cn(dn()*(t-e+1))}var Ne=hn;var xn=parseFloat,gn=Math.min,yn=Math.random;function bn(e,t,r){if(r&&typeof r!="boolean"&&Lt(e,t,r)&&(t=r=void 0),r===void 0&&(typeof t=="boolean"?(r=t,t=void 0):typeof e=="boolean"&&(r=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=ge(e),t===void 0?(t=e,e=0):t=ge(t)),e>t){var o=e;e=t,t=o}if(r||e%1||t%1){var a=yn();return gn(e+a*(t-e+xn("1e-"+((a+"").length-1))),t)}return Ne(e,t)}var K=bn;var vn=Mr("round"),He=vn;function In(e){var t=e.length;return t?e[Ne(0,t-1)]:void 0}var Pe=In;function _n(e){return Pe(Dr(e))}var Er=_n;function kn(e){var t=ne(e)?Pe:Er;return t(e)}var Ze=kn;var Tn=9007199254740991,Qe=4294967295,Cn=Math.min;function Sn(e,t){if(e=Me(e),e<1||e>Tn)return[];var r=Qe,o=Cn(e,Qe);t=Rr(t),e-=Qe;for(var a=je(o,t);++r<e;)t(r);return a}var B=Sn;var Mn=1/0,$n=De&&1/Ke(new De([,-0]))[1]==Mn?function(e){return new De(e)}:Kt,Kr=$n;var wn=200;function On(e,t,r){var o=-1,a=Yt,s=e.length,n=!0,i=[],u=i;if(r)n=!1,a=qr;else if(s>=wn){var p=t?null:Kr(e);if(p)return Ke(p);n=!1,a=Ar,u=new Or}else u=t?[]:i;e:for(;++o<s;){var d=e[o],y=t?t(d):d;if(d=r||d!==0?d:0,n&&y===y){for(var b=u.length;b--;)if(u[b]===y)continue e;t&&u.push(y),i.push(d)}else a(u,y,r)||(u!==i&&u.push(y),i.push(d))}return i}var Nr=On;function An(e){return e&&e.length?Nr(e):[]}var et=An;var A=(r=>(r.mosquito="mosquito",r.cockroach="cockroach",r))(A||{});var oe=(v=>(v.Mosquito10Kill="mosquito10Kill",v.Mosquito100Kill="mosquito100Kill",v.Mosquito1000Kill="mosquito1000Kill",v.Mosquito10000Kill="mosquito10000Kill",v.Cockroach10Kill="cockroach10Kill",v.Cockroach100Kill="cockroach100Kill",v.Cockroach1000Kill="cockroach1000Kill",v.Cockroach10000Kill="cockroach10000Kill",v.Mosquito100Release="mosquito100Release",v.Mosquito1000Release="mosquito1000Release",v.Mosquito10000Release="mosquito10000Release",v.Cockroach100Release="cockroach100Release",v.Cockroach1000Release="cockroach1000Release",v.Cockroach10000Release="cockroach10000Release",v))(oe||{});var be=e=>{let t=e.storageGet("summer_creature_groups");return t?JSON.parse(t):[]},Hr=(e,t)=>{e.storageSet("summer_creature_groups",JSON.stringify(et(t)))},Pr=(e,t)=>{let r=be(e);Hr(e,r.filter(o=>o!==t))},N=(e,t)=>{let r=e.storageGet("summer_creature_group_status::"+t);return r?JSON.parse(r):{endpointUserId:"",targetUserId:"",targetGroupId:"",targetGuildId:"",installed:!1}},me=(e,t,r)=>{e.storageSet("summer_creature_group_status::"+t,JSON.stringify(r));let o=be(e);o.push(t),Hr(e,o)},pe=(e,t)=>{let r=e.storageGet("summer_creature_user_info::"+t);return r?JSON.parse(r):{points:{},releases:{},items:{electricSwatter:!1},achievements:{mosquito10Kill:!1,mosquito100Kill:!1,mosquito1000Kill:!1,mosquito10000Kill:!1,cockroach10Kill:!1,cockroach100Kill:!1,cockroach1000Kill:!1,cockroach10000Kill:!1,mosquito100Release:!1,mosquito1000Release:!1,mosquito10000Release:!1,cockroach100Release:!1,cockroach1000Release:!1,cockroach10000Release:!1}}},Gr=(e,t,r)=>{e.storageSet("summer_creature_user_info::"+t,JSON.stringify(r))},Yr=(e,t,r,o)=>{var u;let a=pe(e,t),s=a.points;s[r]=((u=s[r])!=null?u:0)+o,a.points=s;let n=[],i=[];switch(r){case"mosquito":s.mosquito>=10&&!a.achievements.mosquito10Kill&&(a.achievements.mosquito10Kill=!0,n.push("mosquito10Kill"),a.items.electricSwatter=!0,i.push("electricSwatter")),s.mosquito>=100&&!a.achievements.mosquito100Kill&&(a.achievements.mosquito100Kill=!0,n.push("mosquito100Kill"),i.push("mosquitoRepellentIncense")),s.mosquito>=1e3&&!a.achievements.mosquito1000Kill&&(a.achievements.mosquito1000Kill=!0,n.push("mosquito1000Kill")),s.mosquito>=1e4&&!a.achievements.mosquito10000Kill&&(a.achievements.mosquito10000Kill=!0,n.push("mosquito10000Kill"));break;case"cockroach":s.cockroach>=100&&!a.achievements.cockroach100Kill&&(a.achievements.cockroach100Kill=!0,n.push("cockroach100Kill"),i.push("cockroachTrap")),s.cockroach>=1e3&&!a.achievements.cockroach1000Kill&&(a.achievements.cockroach1000Kill=!0,n.push("cockroach1000Kill")),s.cockroach>=1e4&&!a.achievements.cockroach10000Kill&&(a.achievements.cockroach10000Kill=!0,n.push("cockroach10000Kill"));break}return Gr(e,t,a),[n,i]},Lr=(e,t,r,o)=>{var i;let a=pe(e,t),s=a.releases;s[r]=((i=s[r])!=null?i:0)+o,a.releases=s;let n=[];switch(r){case"mosquito":s.mosquito>=100&&!a.achievements.mosquito100Release&&(a.achievements.mosquito100Release=!0,n.push("mosquito100Release")),s.mosquito>=1e3&&!a.achievements.mosquito1000Release&&(a.achievements.mosquito1000Release=!0,n.push("mosquito1000Release")),s.mosquito>=1e4&&!a.achievements.mosquito10000Release&&(a.achievements.mosquito10000Release=!0,n.push("mosquito10000Release"));break;case"cockroach":s.cockroach>=100&&!a.achievements.cockroach100Release&&(a.achievements.cockroach100Release=!0,n.push("cockroach100Release")),s.cockroach>=1e3&&!a.achievements.cockroach1000Release&&(a.achievements.cockroach1000Release=!0,n.push("cockroach1000Release")),s.cockroach>=1e4&&!a.achievements.cockroach10000Release&&(a.achievements.cockroach10000Release=!0,n.push("cockroach10000Release"));break}return Gr(e,t,a),n};var Ur="1.2.1",tt=16,ce={mosquito:60*60,cockroach:60*60*3},rt={mosquito:60,cockroach:40},Fr={mosquito:[...B(5,()=>"\u4F60\u8BD5\u56FE\u62CD\u6B7B\u{1F99F}\uFF0C\u4F46\u662F\u5B83\u7684\u55E1\u55E1\u58F0\u7A81\u7136\u4E0D\u89C1\u4E86"),...B(5,()=>"\u4F60\u8BD5\u56FE\u62CD\u6B7B\u{1F99F}\uFF0C\u4F46\u627E\u4E86\u534A\u5929\u4E5F\u6CA1\u770B\u89C1\u4E00\u53EA"),...B(5,()=>"\u4F60\u8BD5\u56FE\u62CD\u6B7B\u{1F99F}\uFF0C\u4F46\u5B83\u5F88\u5FEB\u98DE\u8FDC\u6D88\u5931\u4E86"),"\u4F60\u8BD5\u56FE\u62CD\u6B7B\u{1F99F}\uFF0C\u7ED3\u679C\u53CD\u800C\u88AB\u53EE\u4E86\u51E0\u4E2A\u5305"],cockroach:[...B(10,()=>"\u4F60\u8BD5\u56FE\u8E29\u6B7B\u{1FAB3}\uFF0C\u4F46\u627E\u4E86\u534A\u5929\u4E5F\u6CA1\u770B\u89C1\u4E00\u53EA"),...B(10,()=>"\u4F60\u8BD5\u56FE\u8E29\u6B7B\u{1FAB3}\uFF0C\u4F46\u5B83\u5F88\u5FEB\u94BB\u8FDB\u89D2\u843D\u6D88\u5931\u4E86"),"\u4F60\u8BD5\u56FE\u8E29\u6B7B\u{1FAB3}\uFF0C\u5B83\u7A81\u7136\u98DE\u8D77\u6765\u6251\u5411\u4F60\uFF0C\u8D81\u7740\u5413\u4E86\u4E00\u8DF3\u7684\u4F60\u8BD5\u56FE\u6321\u4F4F\u7684\u65F6\u5019\u9003\u8D70\u4E86"]},Ye={mosquitoRepellentIncense:60*60*8,cockroachTrap:60*60*8};var Br=(e,t)=>N(e,t).installed,Y=(e,t=!1)=>{switch(e){case"mosquito":return t?"\u868A\u5B50":"\u{1F99F}";case"cockroach":return t?"\u87D1\u8782":"\u{1FAB3}"}},ot=(e,t)=>{var r;return(r=B(t,()=>Y(A[e])).join(""))!=null?r:""},Le=e=>{switch(e){case"mosquito10Kill":return"\u5341\u868A\u65A9";case"mosquito100Kill":return"\u767E\u868A\u65A9";case"mosquito1000Kill":return"\u5343\u868A\u65A9";case"mosquito10000Kill":return"\u4E07\u868A\u65A9";case"cockroach10Kill":return"\u5341\u87D1\u65A9";case"cockroach100Kill":return"\u767E\u87D1\u65A9";case"cockroach1000Kill":return"\u5343\u87D1\u65A9";case"cockroach10000Kill":return"\u4E07\u87D1\u65A9";case"mosquito100Release":return"\u868A\u5B50\u4E4B\u53CB";case"mosquito1000Release":return"\u868A\u5B50\u95F4\u8C0D";case"mosquito10000Release":return"\u4EBA\u5F62\u868A\u5B50";case"cockroach100Release":return"\u87D1\u8782\u4E4B\u53CB";case"cockroach1000Release":return"\u87D1\u8782\u95F4\u8C0D";case"cockroach10000Release":return"\u4EBA\u5F62\u87D1\u8782"}},Wr=(e,t)=>{var r,o,a,s;switch(t){case"\u62CD":return[(o=(r=e.attacked)==null?void 0:r.mosquito)!=null?o:0,"mosquito"];case"\u8E29":return[(s=(a=e.attacked)==null?void 0:a.cockroach)!=null?s:0,"cockroach"];default:return[0,void 0]}},zr=e=>{let t=Fr[e];return t[K(0,t.length-1)]},at=e=>{switch(e){case"electricSwatter":return["\u7535\u868A\u62CD","\u5BF9\u868A\u5B50\u7684\u547D\u4E2D\u7387\u548C\u6740\u4F24\u63D0\u5347\u4E86"];case"mosquitoRepellentIncense":return["\u868A\u9999","\u53EF\u4EE5\u70B9\u868A\u9999\u4E86"];case"cockroachTrap":return["\u87D1\u8782\u5C4B","\u53EF\u4EE5\u653E\u87D1\u8782\u5C4B\u4E86"]}};var H=Be(it()),Xr=Be(Vr()),Hm=Be(Jr());var pt={mosquito:e=>{let t=He(seal.ext.getFloatConfig(e,"\u868A\u5B50\u6D3B\u52A8\u95F4\u9694/min\uFF08\u4F1A\u56DB\u820D\u4E94\u5165\u4E3A\u6574\u6570\uFF09"));return t<=0?ce.mosquito:t*60},cockroach:e=>{let t=He(seal.ext.getFloatConfig(e,"\u87D1\u8782\u6D3B\u52A8\u95F4\u9694/min\uFF08\u4F1A\u56DB\u820D\u4E94\u5165\u4E3A\u6574\u6570\uFF09"));return t<=0?ce.cockroach:t*60}};H.default.locale("zh-cn");H.default.extend(Xr.default);var Zr=(e,t,r)=>{var a,s;let o=N(e,t);if(o.installed){let n="\u590F\u5B63\u751F\u7269\u6D3B\u52A8\u4E2D\u2014\u2014";if(o.attacked){let b="";Object.entries(o.attacked).forEach(([T,v])=>{v>0&&(b+=`
${ot(A[T],v)}`)}),b!==""&&(n+=b)}let i="",u=(0,H.default)();for(let b in A){let T=A[b],v=pt[b](e),j=((s=(a=o==null?void 0:o.lastAttacked)==null?void 0:a[T])!=null?s:u.unix()-v)+v;i+=`
${Y(A[b])}\uFF1A${H.default.unix(j).from(u)}`}i!==""&&(n+=`

\u88AD\u51FB\u9884\u62A5:`+i);let p=pe(e,r),d=[];Object.entries(p.points).forEach(([b,T])=>{T>0&&d.push(`${Y(A[b])} ${T} \u53EA`)}),d.length>0&&(n+=`

\u4F60\u7684\u6218\u679C\uFF1A`+d.join(" "));let y=[];for(let b in oe)p.achievements[oe[b]]&&y.push(`\u300C${Le(oe[b])}\u300D`);return y.length>0&&(n+=`

\u6210\u5C31\uFF1A`+y.join("")),n}else return"\u590F\u5B63\u751F\u7269\u8FD8\u672A\u51FA\u73B0\uFF01"},Qr=(e,t,r,o,a)=>{let s=N(e,r);return s.installed?"\u590F\u5B63\u751F\u7269\u5DF2\u7ECF\u5F00\u59CB\u6D3B\u52A8\u4E86\uFF01":(s.installed=!0,s.endpointUserId=t,s.targetGroupId=r,s.targetGuildId=o,s.targetUserId=a,me(e,r,s),"\u590F\u5B63\u751F\u7269\u5F00\u59CB\u6D3B\u52A8\u4E86\u2026\u2026")},eo=(e,t)=>{let r=N(e,t);return r.installed?(r.installed=!1,me(e,t,r),Pr(e,t),"\u795E\u79D8\u7684\u529B\u91CF\u8BA9\u7FA4\u91CC\u4E0D\u518D\u6709\u8BA8\u538C\u7684\u751F\u7269\u6D3B\u52A8\u4E86\u2026\u2026"):"\u590F\u5B63\u751F\u7269\u8FD8\u672A\u51FA\u73B0\uFF01"},to=(e,t,r,o)=>{let a=N(e,t);return a.installed?ao(e,t,r,o,a,"manual"):["\u590F\u5B63\u751F\u7269\u8FD8\u672A\u51FA\u73B0\uFF01",0,0]},ro=e=>{var s,n;let r=(0,H.default)().unix(),o={},a=seal.getEndPoints();for(let i of a)o[i.userId]=i;for(let i of be(e)){let u=N(e,i);if(u.installed)for(let p in A){let d=A[p],y=pt[d](e);if(((n=(s=u.lastAttacked)==null?void 0:s[d])!=null?n:r-y)+y<=r){let T=o[u.endpointUserId];T&&oo(e,T,d,u)}}}},oo=(e,t,r,o,a="auto",s=0)=>{let n=(0,H.default)();console.log(`\u590F\u5B63\u751F\u7269\u88AD\u51FB\uFF1A\u65F6\u95F4 ${n.format("YYYY-MM-DD HH:mm:ss")}\uFF0C\u7FA4 ${o.targetGroupId}\uFF0C\u751F\u7269 ${Y(r)}\uFF0C\u6A21\u5F0F ${a}`);let[i,u,p]=ao(e,o.targetGroupId,"",r,o,a,s);if(i!==""){let d=seal.newMessage();d.messageType="group",d.groupId=o.targetGroupId,d.guildId=o.targetGuildId,d.sender.userId=o.targetUserId;let y=seal.createTempCtx(t,d);seal.replyToSender(y,d,i)}},jn=(e,t,r,o)=>{let a=(0,H.default)();console.log(`\u590F\u5B63\u751F\u7269\u8F6C\u79FB\uFF1A\u65F6\u95F4 ${a.format("YYYY-MM-DD HH:mm:ss")}\uFF0C\u6765\u6E90\u7FA4 ${r}\uFF0C\u751F\u7269 ${Y(t)}`);let s={},n=seal.getEndPoints();for(let u of n)s[u.userId]=u;let i=be(e).filter(u=>u!==r);if(i.length>0){let u=Ze(i),p=N(e,u),d=s[p.endpointUserId];d&&oo(e,d,t,p,"other-group",o)}},ao=(e,t,r,o,a=void 0,s="auto",n=0)=>{var d,y,b,T,v,P,j;let i=a!=null?a:N(e,t);if(n===0)if(!((d=i.attacked)!=null&&d[o]))n=K(3,10);else{let O=i.attacked[o];O<tt?n=Math.min(K(3,5),tt-O):n=0}i.lastAttacked=re(te({},i.lastAttacked),{[o]:(0,H.default)().unix()});let u="",p=0;if(n>0){if(s!=="other-group")switch(o){case"mosquito":((b=(y=i.item)==null?void 0:y.mosquitoRepellentIncense)!=null?b:!1)&&i.consumableTime.mosquitoRepellentIncense+Ye.mosquitoRepellentIncense>(0,H.default)().unix()&&(p=n>2?K(2,n):2,n-=p,jn(e,o,t,p));break;case"cockroach":((v=(T=i.item)==null?void 0:T.cockroachTrap)!=null?v:!1)&&i.consumableTime.cockroachTrap+Ye.cockroachTrap>(0,H.default)().unix()&&(p=n>3?K(3,n):3,n-=p);break}if(i.attacked=re(te({},i.attacked),{[o]:((j=(P=i.attacked)==null?void 0:P[o])!=null?j:0)+n}),u=ot(o,i.attacked[o]),p>0)switch(o){case"mosquito":u+=`
[\u868A\u9999\u8D77\u6548\u4E86\uFF0C\u6709 ${p} \u53EA\u88AB\u9A71\u8D76\u53BB\u522B\u7684\u5730\u65B9\u4E86]`;break;case"cockroach":u+=`
[\u87D1\u8782\u5C4B\u8D77\u6548\u4E86\uFF0C\u6709 ${p} \u53EA\u88AB\u65B0\u7C98\u4F4F\u4E86]`;break}if(s==="other-group"){let O=Y(o,!0);u=`\u6709 ${n} \u53EA ${O} \u4ECE\u5176\u4ED6\u5730\u65B9\u8FC7\u6765\u4E86\uFF0C\u5F53\u524D\u6D3B\u52A8\u4E2D\u7684${O}\uFF1A
${u}`}else if(s==="manual"){let O=Lr(e,r,o,n);O.length>0&&(u+=`
\u83B7\u5F97\u6210\u5C31`+O.map(G=>`\u300C${Le(G)}\u300D`).join(""))}}return me(e,t,i),[u,n,p]},ct=(e,t,r,o)=>{let a,s=N(e,t),n=0;if(s.installed&&s.attacked){let[i,u]=Wr(s,o);if(i>0){a="";let p=pe(e,r),d;if(u==="mosquito"&&p.items.electricSwatter?d=K(1,100)<=Math.min(rt.mosquito+20,100):d=K(1,100)<=rt[u],d){let y=Y(u);u==="mosquito"&&p.items.electricSwatter?(a+="\u4F7F\u7528\u7535\u868A\u62CD\uFF0C",n=Math.min(K(3,8),i)):n=Math.min(K(1,3),i),s.attacked[u]-=n,a+=`\u4F60\u6210\u529F${o}\u6B7B\u4E86 ${n} \u53EA${y}`,s.attacked[u]<=0?a+=`
\u5DF2\u7ECF\u6CA1\u6709${y}\u5728\u6D3B\u52A8\u4E86`:a+=`\uFF0C\u8FD8\u6709 ${s.attacked[u]} \u53EA ${y} \u6B63\u5728\u6D3B\u52A8`;let[b,T]=Yr(e,r,u,n);b.length>0&&(a+=`
\u83B7\u5F97\u6210\u5C31`+b.map(v=>`\u300C${Le(v)}\u300D`).join("")),T.length>0&&(a+=`
\u89E3\u9501`+T.map(v=>{let[P,j]=at(v);return`\u300C${P}\u300D\uFF08${j}\uFF09`}).join(""))}else a=zr(u)}}return n>0&&me(e,t,s),a},dt=(e,t,r,o)=>{var d,y,b;let a=N(e,t);if(!a.installed)return"\u590F\u5B63\u751F\u7269\u8FD8\u672A\u51FA\u73B0\uFF0C\u65E0\u6CD5\u4F7F\u7528\uFF01";let s=(0,H.default)(),n=at(o),i=(d=a.item)==null?void 0:d[o],u=(b=(y=a.consumableTime)==null?void 0:y[o])!=null?b:s.unix();if(i&&u+Ye[o]>s.unix())return`\u672C\u7FA4\u5DF2\u7ECF\u653E\u7F6E\u8FC7${n}\u4E86\uFF01`;let p=pe(e,r);switch(o){case"mosquitoRepellentIncense":if(p.achievements.mosquito100Kill)a.item=re(te({},a.item),{mosquitoRepellentIncense:!0}),a.consumableTime=re(te({},a.consumableTime),{mosquitoRepellentIncense:s.unix()});else return"\u4F60\u8FD8\u6CA1\u6709\u89E3\u9501\u868A\u9999\uFF0C\u7EE7\u7EED\u62CD\u6B7B\u66F4\u591A\u868A\u5B50\u5427";break;case"cockroachTrap":if(p.achievements.cockroach100Kill)a.item=re(te({},a.item),{cockroachTrap:!0}),a.consumableTime=re(te({},a.consumableTime),{cockroachTrap:s.unix()});else return"\u4F60\u8FD8\u6CA1\u6709\u89E3\u9501\u87D1\u8782\u5C4B\uFF0C\u7EE7\u7EED\u8E29\u6B7B\u66F4\u591A\u87D1\u8782\u5427";break;default:return"\u672A\u77E5\u7684\u7269\u54C1\uFF01"}return me(e,t,a),`\u6210\u529F\u5728\u672C\u7FA4\u653E\u7F6E${n}\uFF01`};var so,Dn=e=>{so===void 0&&(so=setInterval(()=>{ro(e)},1e3*30))};var En=`\u590F\u5B63\u751F\u7269
.\u590F\u5B63\u751F\u7269 // \u67E5\u770B\u5F53\u524D\u72B6\u6001
.\u590F\u5B63\u751F\u7269 (\u5F00\u59CB|\u505C\u6B62) // \u590F\u5B63\u751F\u7269\u5F00\u59CB/\u505C\u6B62\u6D3B\u52A8\uFF0C\u5F00\u59CB\u540E\u4F1A\u5B9A\u671F\u51FA\u6CA1
.\u590F\u5B63\u751F\u7269 (\u5E2E\u52A9|help) // \u67E5\u770B\u5E2E\u52A9
.\u590F\u5B63\u751F\u7269 \u91CA\u653E (\u868A\u5B50|\u87D1\u8782) // \u624B\u52A8\u5411\u7FA4\u91CC\u91CA\u653E\u751F\u7269

\u5F53\u6709\u5BF9\u5E94\u751F\u7269\u6D3B\u52A8\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u5982\u4E0B\u547D\u4EE4\u653B\u51FB\uFF1A
#\u62CD // \u653B\u51FB\u868A\u5B50
#\u8E29 // \u653B\u51FB\u87D1\u8782

\u53EF\u4EE5\u89E3\u9501\u66F4\u591A\u547D\u4EE4
#\u70B9\u868A\u9999
#\u653E\u87D1\u8782\u5C4B
`;function Kn(){let e=seal.ext.find("summer-creature");e||(e=seal.ext.new("summer-creature","JustAnotherID",Ur),seal.ext.register(e));let t=seal.ext.newCmdItemInfo();t.name="\u590F\u5B63\u751F\u7269",t.help=En,t.solve=(r,o,a)=>{if(o.messageType!=="group")return seal.replyToSender(r,o,"\u590F\u5B63\u751F\u7269\u53EA\u80FD\u5728\u7FA4\u5185\u51FA\u6CA1"),seal.ext.newCmdExecuteResult(!0);switch(a.getArgN(1)){case"help":case"\u5E2E\u52A9":let n=seal.ext.newCmdExecuteResult(!0);return n.showHelp=!0,n;case"\u5F00\u59CB":case"\u5F00\u542F":return seal.replyToSender(r,o,Qr(e,r.endPoint.userId,o.groupId,o.guildId,o.sender.userId)),seal.ext.newCmdExecuteResult(!0);case"\u505C\u6B62":case"\u5173\u95ED":return seal.replyToSender(r,o,eo(e,o.groupId)),seal.ext.newCmdExecuteResult(!0);case"\u91CA\u653E":let i=a.getArgN(2),u;switch(i){case"\u868A\u5B50":u="mosquito";break;case"\u87D1\u8782":u="cockroach";break;default:return seal.replyToSender(r,o,"\u5F53\u524D\u4E0D\u652F\u6301\u8BE5\u751F\u7269"),seal.ext.newCmdExecuteResult(!0)}let[p,d,y]=to(e,o.groupId,o.sender.userId,u),b=Y(u,!0);return p=`<${o.sender.nickname}>\u5411\u7FA4\u91CC\u91CA\u653E\u4E86 ${d+y} \u53EA ${b}\uFF0C\u5F53\u524D\u6D3B\u52A8\u4E2D\u7684${b}\uFF1A
${p}`,seal.replyToSender(r,o,p),seal.ext.newCmdExecuteResult(!0);default:return seal.replyToSender(r,o,Zr(e,o.groupId,o.sender.userId)),seal.ext.newCmdExecuteResult(!0)}},e.cmdMap.\u590F\u5B63\u751F\u7269=t,e.onNotCommandReceived=(r,o)=>{let a=o.message.trim();if(Br(e,o.groupId)){let s=!1,n;a==="#\u62CD"||a==="#\u62CD\u6B7B"?(n=ct(e,o.groupId,o.sender.userId,"\u62CD"),s=!0):a==="#\u8E29"||a==="#\u8E29\u6B7B"?(n=ct(e,o.groupId,o.sender.userId,"\u8E29"),s=!0):a==="#\u8E29"||a==="#\u8E29\u6B7B"||(a==="#\u70B9\u868A\u9999"||a==="#\u653E\u868A\u9999"?n=dt(e,o.groupId,o.sender.userId,"mosquitoRepellentIncense"):a==="#\u653E\u87D1\u8782\u5C4B"&&(n=dt(e,o.groupId,o.sender.userId,"cockroachTrap"))),n?seal.replyToSender(r,o,n):s&&seal.replyToSender(r,o,"\u5BF9\u7740\u7A7A\u6C14\u8F93\u51FA\u4E86\u4E00\u756A\u5462\u2026\u2026")}},seal.ext.registerFloatConfig(e,"\u868A\u5B50\u6D3B\u52A8\u95F4\u9694/min\uFF08\u4F1A\u56DB\u820D\u4E94\u5165\u4E3A\u6574\u6570\uFF09",ce.mosquito/60),seal.ext.registerFloatConfig(e,"\u87D1\u8782\u6D3B\u52A8\u95F4\u9694/min\uFF08\u4F1A\u56DB\u820D\u4E94\u5165\u4E3A\u6574\u6570\uFF09",ce.cockroach/60),Dn(e)}Kn();})();
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
